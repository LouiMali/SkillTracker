<!doctype html>
<html lang="de-CH">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SkillTracker – Skills verwalten</title>
  <meta name="description" content="Webapp zum Verwalten von Skills: Fortschritt, Zeitaufwand und Prioritäten.">
  <link rel="icon" href="./assets/favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- App Header -->
  <header class="app-header">
    <div class="header__inner">
      <a href="/" class="header__back" aria-label="Zurück zur Startseite">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      </a>
      <h1 class="header__title">SkillTracker</h1>
      <button class="header__filter-btn" id="filter-toggle" aria-label="Filter öffnen" aria-expanded="false">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
      </button>
    </div>
    <!-- Filter Dropdown -->
    <div class="filter-bar" id="filter-bar" hidden>
      <div class="filter-bar__inner">
        <div class="filter-group">
          <label class="filter-label" for="filter-category">Kategorie</label>
          <select class="filter-select" id="filter-category">
            <option value="all">Alle</option>
          </select>
        </div>
        <div class="filter-group">
          <label class="filter-label" for="filter-priority">Priorität</label>
          <select class="filter-select" id="filter-priority">
            <option value="all">Alle</option>
            <option value="High">Hoch</option>
            <option value="Medium">Mittel</option>
            <option value="Low">Niedrig</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="app-main" id="app-main">

    <!-- Stats Bar -->
    <section class="stats-bar" aria-label="Statistiken">
      <div class="stat-card">
        <span class="stat-value" id="stat-total">–</span>
        <span class="stat-label">Skills</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="stat-avg">–</span>
        <span class="stat-label">Durchschnitt</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="stat-mastered">–</span>
        <span class="stat-label">Gemeistert</span>
      </div>
    </section>

    <!-- Skills List -->
    <section class="skills-section" aria-label="Skills">
      <div class="skills-list" id="skills-list" role="list" aria-live="polite">
        <!-- Skeleton Loader -->
        <div class="skill-card skeleton-card" aria-hidden="true">
          <div class="skeleton skeleton--title"></div>
          <div class="skeleton skeleton--bar"></div>
          <div class="skeleton skeleton--text"></div>
        </div>
        <div class="skill-card skeleton-card" aria-hidden="true">
          <div class="skeleton skeleton--title"></div>
          <div class="skeleton skeleton--bar"></div>
          <div class="skeleton skeleton--text"></div>
        </div>
        <div class="skill-card skeleton-card" aria-hidden="true">
          <div class="skeleton skeleton--title"></div>
          <div class="skeleton skeleton--bar"></div>
          <div class="skeleton skeleton--text"></div>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" id="empty-state" hidden>
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--muted)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        <p class="empty-state__text">Noch keine Skills vorhanden.</p>
        <p class="empty-state__hint">Tippe auf +, um deinen ersten Skill hinzuzufügen.</p>
      </div>

      <!-- Error State -->
      <div class="error-state" id="error-state" hidden>
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ff9aa2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
        <p class="error-state__text">Verbindung zum Server fehlgeschlagen.</p>
        <button class="btn btn--ghost" id="retry-btn">Erneut versuchen</button>
      </div>
    </section>
  </main>

  <!-- FAB: Add Skill -->
  <button class="fab" id="fab-add" aria-label="Neuen Skill hinzufügen">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
  </button>

  <!-- Modal: Add Skill -->
  <div class="modal-overlay" id="modal-overlay" hidden>
    <div class="modal" role="dialog" aria-labelledby="modal-title" aria-modal="true">
      <div class="modal__header">
        <h2 class="modal__title" id="modal-title">Neuer Skill</h2>
        <button class="modal__close" id="modal-close" aria-label="Schliessen">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <form class="modal__form" id="skill-form" novalidate>
        <div class="form-field">
          <label for="skill-name">Name *</label>
          <input type="text" id="skill-name" required minlength="2" placeholder="z.B. JavaScript" autocomplete="off">
          <span class="form-error" id="err-name" role="alert"></span>
        </div>
        <div class="form-field">
          <label for="skill-category">Kategorie *</label>
          <select id="skill-category" required>
            <option value="" disabled selected>Kategorie wählen...</option>
          </select>
          <span class="form-error" id="err-category" role="alert"></span>
        </div>
        <div class="form-row">
          <div class="form-field">
            <label for="skill-current">Aktuell</label>
            <div class="level-picker" id="picker-current" role="group" aria-label="Aktuelles Level">
              <button type="button" class="level-dot is-active" data-level="1">1</button>
              <button type="button" class="level-dot" data-level="2">2</button>
              <button type="button" class="level-dot" data-level="3">3</button>
              <button type="button" class="level-dot" data-level="4">4</button>
              <button type="button" class="level-dot" data-level="5">5</button>
            </div>
            <input type="hidden" id="skill-current" value="1">
          </div>
          <div class="form-field">
            <label for="skill-target">Ziel</label>
            <div class="level-picker" id="picker-target" role="group" aria-label="Ziel-Level">
              <button type="button" class="level-dot" data-level="1">1</button>
              <button type="button" class="level-dot" data-level="2">2</button>
              <button type="button" class="level-dot" data-level="3">3</button>
              <button type="button" class="level-dot" data-level="4">4</button>
              <button type="button" class="level-dot is-active" data-level="5">5</button>
            </div>
            <input type="hidden" id="skill-target" value="5">
          </div>
        </div>
        <div class="form-field">
          <label for="skill-priority">Priorität</label>
          <div class="priority-picker" role="radiogroup" aria-label="Priorität">
            <button type="button" class="priority-btn" data-priority="Low">Niedrig</button>
            <button type="button" class="priority-btn is-active" data-priority="Medium">Mittel</button>
            <button type="button" class="priority-btn" data-priority="High">Hoch</button>
          </div>
          <input type="hidden" id="skill-priority" value="Medium">
        </div>
        <div class="form-field">
          <label for="skill-notes">Notizen</label>
          <textarea id="skill-notes" rows="3" placeholder="Optionale Notizen..."></textarea>
        </div>
        <div class="modal__actions">
          <button type="button" class="btn btn--ghost" id="modal-cancel">Abbrechen</button>
          <button type="submit" class="btn btn--primary">Skill speichern</button>
        </div>
        <p class="form-status" id="form-status" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <!-- Bottom Nav -->
  <nav class="bottom-nav" aria-label="Navigation">
    <a href="/" class="bottom-nav__item">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>Home</span>
    </a>
    <a href="#" class="bottom-nav__item is-active" aria-current="page">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      <span>Skills</span>
    </a>
  </nav>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
